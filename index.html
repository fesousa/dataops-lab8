<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>ECharts</title>
    <!-- Include the ECharts file you just downloaded -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.2.1/dist/echarts.min.js"></script>
  </head>
  <body>
    <!-- Prepare a DOM with a defined width and height for ECharts -->
    <div id="uf" style="width: 600px;height:400px;"></div>
    <div id="vacinas" style="width: 600px;height:400px;"></div>
    <script type="text/javascript">
      // Initialize the echarts instance based on the prepared dom
      var chartUf = echarts.init(document.getElementById('uf'));
      var chartVacinas = echarts.init(document.getElementById('vacinas'));

      var dati = $.ajax({
          url: 'https://4wy1fqb1mg.execute-api.us-east-1.amazonaws.com/prod', // provide correct url
          type: 'GET',
          dataType: 'JSON',
          success: function(response) {
              console.log(response); // take a peek on the values (browser console)

              // uf
              var optionUf = {
                title: {
                  text: 'Vacinas por UF'
                },
                
                xAxis: {
                  data: response['uf']['dim']
                },
                yAxis: {},
                series: [
                  {
                    name: 'vacinas',
                    type: 'bar',
                    data: response['uf']['value'],
                    label: {
                      show: true,
                      position: 'top'
                    },
                  }
                ]
              };

              
              chartUf.setOption(optionUf);

              data_vacinas = []
              for (var i = 0; i < response['vacina']['dim'].length; i++) {
                data_vacinas.push({
                  name: response['vacina']['dim'][i],
                  value: response['vacina']['value'][i],
                })
                  //Do something
              }

              // tipo de vacina
              var optionVacina = {
                title: {
                  text: 'Vacinas por tipo'
                },
                
                series: [
                  {
                    type: 'treemap',
                    data: data_vacinas,
                    label: {
                      show: true,
                      position: 'insideTopLeft',
                      formatter: function (params) {
                        console.log(params)
                        return (params.name) + `- `+ (params.value);
                      }
                    },
                  }
                ]
              };

              
              chartVacinas.setOption(optionVacina);
          }
      });

      // Specify the configuration items and data for the chart
      
    </script>
  </body>
</html>